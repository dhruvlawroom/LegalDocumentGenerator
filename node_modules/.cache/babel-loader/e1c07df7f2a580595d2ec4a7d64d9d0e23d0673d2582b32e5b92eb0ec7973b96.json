{"ast":null,"code":"import React,{useState,createContext,useRef}from'react';import Form from'./components/form';import Preview from'./components/Preview';import{jsPDF}from'jspdf';import html2canvas from'html2canvas';import{saveAs}from'file-saver';import'./styles.css';import'./app.css';import'./index.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const inputContext=/*#__PURE__*/createContext();const App=()=>{const[formData,setFormData]=useState({crmNumber:'',year:'',petitionerName:'',respondentName:'',fathersName:'',age:'',houseAddress:'',mobileNumber:'',aadhaarNumber:'',state:'',lawyerName:'',dated:''});const[isPreviewMode,setIsPreviewMode]=useState(false);const previewRef=useRef(null);const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const togglePreviewMode=()=>{setIsPreviewMode(!isPreviewMode);};const downloadPDF=()=>{const input=previewRef.current;html2canvas(input,{scale:2}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;// A4 width in mm\nconst pageHeight=297;// A4 height in mm\nconst imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save('petition_preview.pdf');});};const downloadWord=()=>{const content=previewRef.current.innerText;const blob=new Blob([content],{type:'application/msword'});saveAs(blob,'petition_preview.doc');};return/*#__PURE__*/_jsx(inputContext.Provider,{value:{formData,setFormData},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"preview-toggle-btn\",onClick:togglePreviewMode,children:isPreviewMode?\"Edit\":\"Preview\"}),isPreviewMode&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"download-btn\",onClick:downloadPDF,children:\"Download as PDF\"}),/*#__PURE__*/_jsx(\"button\",{className:\"download-btn\",onClick:downloadWord,children:\"Download as Word\"})]})]}),isPreviewMode?/*#__PURE__*/_jsx(\"div\",{className:\"preview-only\",ref:previewRef,children:/*#__PURE__*/_jsx(Preview,{formData:formData})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsx(Form,{formData:formData,handleChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-container\",children:/*#__PURE__*/_jsx(Preview,{formData:formData})})]})]})});};export default App;","map":{"version":3,"names":["React","useState","createContext","useRef","Form","Preview","jsPDF","html2canvas","saveAs","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","inputContext","App","formData","setFormData","crmNumber","year","petitionerName","respondentName","fathersName","age","houseAddress","mobileNumber","aadhaarNumber","state","lawyerName","dated","isPreviewMode","setIsPreviewMode","previewRef","handleChange","e","name","value","target","togglePreviewMode","downloadPDF","input","current","scale","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","width","heightLeft","position","addImage","addPage","save","downloadWord","content","innerText","blob","Blob","type","Provider","children","className","onClick","ref"],"sources":["C:/Users/DHRUV/legal-doc-generator/src/App.js"],"sourcesContent":["import React, { useState, createContext, useRef } from 'react';\r\nimport Form from './components/form';\r\nimport Preview from './components/Preview';\r\nimport { jsPDF } from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport { saveAs } from 'file-saver';\r\nimport './styles.css';\r\nimport './app.css';\r\nimport './index.css';\r\n\r\n\r\nexport const inputContext = createContext();\r\n\r\nconst App = () => {\r\n  const [formData, setFormData] = useState({\r\n    crmNumber: '',\r\n    year: '',\r\n    petitionerName: '',\r\n    respondentName: '',\r\n    fathersName: '',\r\n    age: '',\r\n    houseAddress: '',\r\n    mobileNumber: '',\r\n    aadhaarNumber: '',\r\n    state: '',\r\n    lawyerName: '',\r\n    dated: '',\r\n  });\r\n\r\n  const [isPreviewMode, setIsPreviewMode] = useState(false);\r\n  const previewRef = useRef(null);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const togglePreviewMode = () => {\r\n    setIsPreviewMode(!isPreviewMode);\r\n  };\r\n\r\nconst downloadPDF = () => {\r\n  const input = previewRef.current;\r\n  html2canvas(input, { scale: 2 }).then((canvas) => {\r\n    const imgData = canvas.toDataURL('image/png');\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n\r\n    const imgWidth = 210; // A4 width in mm\r\n    const pageHeight = 297; // A4 height in mm\r\n    const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n    let heightLeft = imgHeight;\r\n\r\n    let position = 0;\r\n\r\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n    heightLeft -= pageHeight;\r\n\r\n    while (heightLeft > 0) {\r\n      position = heightLeft - imgHeight;\r\n      pdf.addPage();\r\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n      heightLeft -= pageHeight;\r\n    }\r\n\r\n    pdf.save('petition_preview.pdf');\r\n  });\r\n};\r\n\r\n\r\n  const downloadWord = () => {\r\n    const content = previewRef.current.innerText;\r\n    const blob = new Blob([content], { type: 'application/msword' });\r\n    saveAs(blob, 'petition_preview.doc');\r\n  };\r\n\r\n  return (\r\n    <inputContext.Provider value={{ formData, setFormData }}>\r\n      <div className=\"container\">\r\n        <div className=\"buttons-container\">\r\n          <button className=\"preview-toggle-btn\" onClick={togglePreviewMode}>\r\n            {isPreviewMode ? \"Edit\" : \"Preview\"}\r\n          </button>\r\n          {isPreviewMode && (\r\n            <>\r\n              <button className=\"download-btn\" onClick={downloadPDF}>\r\n                Download as PDF\r\n              </button>\r\n              <button className=\"download-btn\" onClick={downloadWord}>\r\n                Download as Word\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {isPreviewMode ? (\r\n          <div className=\"preview-only\" ref={previewRef}>\r\n            <Preview formData={formData} />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"form-container\">\r\n              <Form formData={formData} handleChange={handleChange} />\r\n            </div>\r\n            <div className=\"preview-container\">\r\n              <Preview formData={formData} />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </inputContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}